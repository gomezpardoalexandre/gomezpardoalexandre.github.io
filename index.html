<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
        <title>Gomez Pardo Alexandre</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/logo.ico" />
        <link href="style.css" rel="stylesheet">
		<style>
			body { margin: 0; 
                background-color: #ffffff;
            }
			canvas { display: block;
                background-color: #ffffff;
           }
		</style>
    </head>
    
	<body>
        <div class="name">
            <p>Alexandre Gomez Pardo</p>
        </div>
       <div class="langue">
          <p>FR | EN </p>
       </div>
       <div class="catchy">
           <h1>Graphique Design</h1>
       </div>
       <div class="menu">
           <p>explore</p>
           <div class="index">
               <ul>
                  <li><a href="works.html">Works</a></li>
                  <li><a>About me</a></li>
                  <li><a>Contact</a></li>
               </ul>
           </div>
       </div>
       <div class="copyright">
        Â© 2020
       </div>

   

       <script type="text/javascript">
            function menu(){
                var menu = document.getElementsByClassName("menu");
                var index = document.getElementsByClassName("index");
                menu[0].addEventListener("mouseover", e =>{
                    index[0].style.height = "220px";
                    index[0].firstElementChild.style.display="block";
                    menu[0].style.clipPath = "polygon(15% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 20%)"
                });
                menu[0].addEventListener("mouseout",e => {
                    index[0].style.height = "0px";
                    index[0].firstElementChild.style.display="none";
                    menu[0].style.clipPath = "polygon(11% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 30%)"
                });
            }
            menu();
       </script>

		<script type="module">
            import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r119/build/three.module.js';
            import {OrbitControls} from '../three/examples/jsm/controls/OrbitControls.js';
            import {GLTFLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r119/examples/jsm/loaders/GLTFLoader.js';
            // Our Javascript will go here.

            var scene = new THREE.Scene();
            scene.background = new THREE.Color( 0xFF4232);
            scene.fog = new THREE.Fog(0x000000 , 0, 50);
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
            camera.position.set(0,0,0);
         
           


            var renderer = new THREE.WebGLRenderer({antialias: true});
            renderer.physicallyCorrectLights = true;
			renderer.outputEncoding = THREE.sRGBEncoding;
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.PCFShadowMap;
         // renderer.outputEncoding = true ;
            renderer.gammaFactor = 2.2;
            renderer.toneMapping = THREE.CineonToneMapping;
            renderer.toneMappingExposure = 3; 
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );

            scene.add(new THREE.AxesHelper(50));


            
            const controls = new OrbitControls(camera, renderer.domElement);
            controls.target.set(0, 0.75, 1.5);
            controls.minPolarAngle = Math.PI/2.01;
            controls.maxPolarAngle = Math.PI/2.01; // radians
            controls.minAzimuthAngle = -Math.PI; // radians
            controls.maxAzimuthAngle =  Math.PI/70;
            controls.enableZoom = true;
            controls.dispose();
         //  
         //   object.matrixAutoUpdate = false;
            document.addEventListener('mousemove', e => {
                
                controls.handleMouseMoveRotate(e);
            })
            

            controls.update();
            
            // load 3D

               
            let loader = new GLTFLoader();
            loader.load('logo3D.gltf', function(gltf){

                  
                    gltf.scene.traverse( function( node ) {

                if ( node.isMesh ) { 
                    node.castShadow = true;
                    node.castShadow = true;
                    node.receiveShadow = true;
                    node.material = new THREE.MeshPhongMaterial({color: 0xffffff});
                    if ( node.material.map ) node.material.anisotropy = 16;
                 }

                } );
                scene.add(gltf.scene);
               
            });

        
                /////////////////////////////
            var hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 1);
            scene.add(hemiLight);
             
            var spotlight = new THREE.SpotLight(0xffffff, 10);
            
            spotlight.position.set(10,10,30);
            spotlight.target.position.x = 0;
            spotlight.target.position.y = 0;
            spotlight.castShadow = true;
            spotlight.shadow.radius = 30;
            spotlight.shadow.bias = -0.001;
            spotlight.shadow.mapSize.width = 2000;
            spotlight.shadow.mapSize.height = 2000;
            scene.add(spotlight);
            scene.add(spotlight.target);
            //var spotLightHelper = new THREE.SpotLightHelper( spotlight );
            //scene.add( spotLightHelper );

                window.addEventListener( 'resize', onWindowResize, false );

                function onWindowResize(){

                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();

                    renderer.setSize( window.innerWidth, window.innerHeight );

                }


           

            // render 
        function animate() {
                renderer.render( scene, camera );
                requestAnimationFrame( animate );
             
            }
       
            
           animate();    
    
            </script>  
        


        </body>
</html>