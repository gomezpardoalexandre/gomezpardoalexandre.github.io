<!DOCTYPE html>
<html>
<head>
<meta auteur="Gomez Pardo Alexandre">
<title>Alex's</title>
<link href="style.css" rel="stylesheet">
<link href="work.css" rel="stylesheet">
<link rel="icon" href="@img/logofavicon.ico" />
</head>
<body>
    <div class="background">
        <img src="@img/background.svg">
        <canvas id=c></canvas>
    </div>
    <div class="menu">
        <p><a href="index.html">accueil</a></p>
        <p><a href="about.html">à propos</a></p>
    </div>
    <div class="logo2"><a href="index.html">
        <svg id="Calque_1" data-name="Calque 1" xmlns="http://www.w3.org/2000/svg" width="282.2" height="280.08" viewBox="0 0 282.2 280.08"><defs><style>.cls-1{fill:var(--accent);}</style></defs><polygon class="cls-1" points="31.73 5.99 7.03 5.99 7.03 103.9 31.73 103.9 31.73 68.47 128.73 68.47 128.73 43.22 31.73 43.22 31.73 5.99"/><polygon class="cls-1" points="178.31 78.34 178.31 5.99 152.73 5.99 152.73 103.9 275.16 103.9 275.16 78.34 178.31 78.34"/><rect class="cls-1" x="7.19" y="249.2" width="121.55" height="24.7"/><rect class="cls-1" x="7.19" y="127.41" width="121.55" height="25.49"/><rect class="cls-1" x="19.68" y="187.81" width="93.14" height="26.7"/><polygon class="cls-1" points="143.72 135.95 254.34 274.09 274.63 256.75 164.01 118.61 143.72 135.95"/></svg>
    </a>
    </div>
    <div class="worklist">
        <p>Projets</p>
        <ul id="list">
            <!--<li><a href="projet-idgraphique.html">Identité graphique</a></li>-->
            <li class="3D"><a href="projet-safeplace.html">Safe Place</a></li>
            <li class="3D"><a href="projet-pcr.html">Le petit chaperon rouge</a></li>
            <li class="3D Jeux"><a href="projet-ostara.html">Ostara</a></li>
            <li class="3D"><a href="projet-ikea.html">Ikea</a></li>
            <li class="UI/UX"><a href="projet-chatbox.html">Chatbox</a></li>
            <li class="Jeux"><a href="projet-breakout.html">BreakOut</a></li>
            <li class="UI/UX Motion"><a href="projet-CCI.html">CCI</a></li>
            <li class="Motion"><a href="projet-monsterinthelight.html">Monster in the light</a></li>
            <li class="Vidéo"><a href="projet-coule.html">Coule</a></li>
            <li class="3D"><a href="projet-experimentation.html">Expérimentation</a></li>
        </ul>
    </div>
    <div class="filter" >
        <p id="categorie"><a>Catégories</a></p>
        <div class="filtres" id="filtres">
            <p>UI/UX</p>
            <p>Motion</p>
            <p>Jeux</p>
            <p>3D</p>
            <p>Vidéo</p>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        var categorie = document.getElementById("categorie");
        var  filtre = document.getElementById("filtres");
        var liste = document.getElementById('list').children;
        var click = 0;
        
        categorie.addEventListener('click', function(){
           
           if (click%2 == 0) {
            filtre.style.maxHeight = filtre.scrollHeight + "px"; 
            for (var i= 0; i< liste.length; i++){
                liste[i].style.opacity=0.5;
            }
            }else{
                filtre.style.maxHeight = null;
                for (var i= 0; i< liste.length; i++){
                liste[i].style.opacity=1;
            }    
            } 
            click += 1;
        })
        let p = filtre.children;
        console.log(p)
        for (var i = 0; i < p.length; i++) {
            let cat;
            let click=0;
            var array = [];
            p[i].addEventListener('click', function(){
                this.style.opacity = 1; 
                this.style.color = 'var(--accent)';
                array.push(this.innerHTML);
                if (click%2 != 0){
                this.style.opacity = 0.5; 
                this.style.color = '#333333';
                array = array.filter((n) => {return n != this.innerHTML});
               //     if (array.length ==0){
               //         for (var i= 0; i< liste.length; i++){
                //            liste[i].style.opacity=0.5;
                //        }
                //    }
                }
                for (var k= 0; k< liste.length; k++){
                           liste[k].style.opacity=0.5;
                }
                console.log(array);
                console.log(array.length)
                for (var j= 0; j < array.length; j++){
                console.log(array[j])
                let cat = document.getElementsByClassName(array[j]); 
                console.log(cat);
                    for (var h=0; h <cat.length; h++){
                        console.log(cat[h])
                        cat[h].style.opacity = 1;
                    }
                }
              
                click +=1; 
            })
        }
     
    </script>
</body>
</html>